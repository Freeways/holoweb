<!DOCTYPE html>
<html>
    <head>
        <meta charset=utf-8>
        <title>HoloWeb</title>
        <style>
            body { margin: 0; }
            canvas { width: 100%; height: 100% }
        </style>
        <script src="../dist/holoweb.js"></script>
    </head>
    <body>
        <script>
            var holoweb = new HoloWeb();
            var dae;

			holoweb.add( new THREE.AmbientLight( 0xcccccc ) );
			
            function animate() {
                requestAnimationFrame(animate);
                dae.rotation.y += 0.01;
                dae.position.z += 1;
                dae.position.y += 0.2;
            }

			var loader = new THREE.ColladaLoader();
			loader.options.convertUpAxis = true;
			loader.load( './models/collada/airplane.dae', function ( collada ) {
				dae = collada.scene;
				dae.traverse( function ( child ) {
					if ( child instanceof THREE.SkinnedMesh ) {
						var animation = new THREE.Animation( child, child.geometry.animation );
						animation.play();
					}
				} );

				dae.scale.x = dae.scale.y = dae.scale.z = 20;
				dae.rotation.x = 3 * Math.PI/2;
				dae.rotation.y = 3 * Math.PI/2;
				dae.rotation.z = 3 * Math.PI/2;
				dae.updateMatrix();
				holoweb.add(dae);
				animate();
			} );
            
        </script>
    </body>
</html>